fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";var r="fotorama",a="fullscreen",s=r+"__wrap",u=s+"--css2",l=s+"--css3",c=s+"--video",f=s+"--fade",d=s+"--slide",h=s+"--no-controls",p=s+"--no-shadows",m=s+"--pan-y",v=s+"--rtl",w=s+"--only-active",g=s+"--no-captions",y=s+"--toggle-arrows",x=r+"__stage",b=x+"__frame",_=b+"--video",C=x+"__shaft",T=r+"__grab",k=r+"__pointer",M=r+"__arr",S=M+"--disabled",F=M+"--prev",E=M+"--next",P=r+"__nav",N=P+"-wrap",j=P+"__shaft",$=P+"--dots",q=P+"--thumbs",A=P+"__frame",z=A+"--dot",L=A+"--thumb",O=r+"__fade",I=O+"-front",D=O+"-rear",W=r+"__shadow"+"s",H=W+"--left",K=W+"--right",V=r+"__active",B=r+"__select",R=r+"--hidden",X=r+"--fullscreen",Q=r+"__fullscreen-icon",U=r+"__error",Y=r+"__loading",G=r+"__loaded",J=G+"--full",Z=G+"--img",tt=r+"__grabbing",et=r+"__img",nt=et+"--full",ot=r+"__dot",it=r+"__thumb",rt=it+"-border",at=r+"__html",st=r+"__video",ut=st+"-play",lt=st+"-close",ct=r+"__caption",ft=r+"__caption__wrap",dt=r+"__spinner",ht='" tabindex="0" role="button',pt=o&&o.fn.jquery.split(".");if(!pt||pt[0]<1||1==pt[0]&&pt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var mt=function(t,e,n){var o,i,r={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),f="Webkit Moz O ms",d=f.split(" "),h=f.toLowerCase().split(" "),p={},m=[],v=m.slice,w={}.hasOwnProperty;function g(t){l.cssText=t}function y(t,e){return typeof t===e}function x(t,e){for(var o in t){var i=t[o];if(!~(""+i).indexOf("-")&&l[i]!==n)return"pfx"!=e||i}return!1}function b(t,e,o){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+d.join(i+" ")+i).split(" ");return y(e,"string")||y(e,"undefined")?x(r,e):function(t,e,o){for(var i in t){var r=e[t[i]];if(r!==n)return!1===o?t[i]:y(r,"function")?r.bind(o||e):r}return!1}(r=(t+" "+h.join(i+" ")+i).split(" "),e,o)}i=y(w,"undefined")||y(w.call,"undefined")?function(t,e){return e in t&&y(t.constructor.prototype[e],"undefined")}:function(t,e){return w.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=v.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var r=new i,a=e.apply(r,n.concat(v.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(v.call(arguments)))};return o}),p.csstransforms3d=function(){return!!b("perspective")};for(var _ in p)i(p,_)&&(o=_.toLowerCase(),r[o]=p[_](),m.push((r[o]?"":"no-")+o));return r.addTest=function(t,e){if("object"==typeof t)for(var o in t)i(t,o)&&r.addTest(o,t[o]);else{if(t=t.toLowerCase(),r[t]!==n)return r;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),r[t]=e}return r},g(""),u=null,r._version="2.6.2",r._prefixes=c,r._domPrefixes=h,r._cssomPrefixes=d,r.testProp=function(t){return x([t])},r.testAllProps=b,r.testStyles=function(t,n,o,i){var r,u,l,c,f=e.createElement("div"),d=e.body,h=d||e.createElement("body");if(parseInt(o,10))for(;o--;)(l=e.createElement("div")).id=i?i[o]:s+(o+1),f.appendChild(l);return r=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),f.id=s,(d?f:h).innerHTML+=r,h.appendChild(f),d||(h.style.background="",h.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),u=n(f,t),d?f.parentNode.removeChild(f):(h.parentNode.removeChild(h),a.style.overflow=c),!!u},r.prefixed=function(t,e,n){return e?b(t,e,n):b(t,"pfx")},r}(0,e),vt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},wt="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)vt.ok=!0;else for(var gt=0,yt=wt.length;gt<yt;gt++)if(vt.prefix=wt[gt],void 0!==e[vt.prefix+"CancelFullScreen"]){vt.ok=!0;break}vt.ok&&(vt.event=vt.prefix+"fullscreenchange",vt.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},vt.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},vt.cancel=function(t){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});(function(){var t,n=["webkit","Moz","ms","O"],o={};function r(t,n){var o,i=e.createElement(t||"div");for(o in n)i[o]=n[o];return i}function a(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}var s,u=(s=r("style",{type:"text/css"}),a(e.getElementsByTagName("head")[0],s),s.sheet||s.styleSheet);function l(e,n,i,r){var a=["opacity",n,~~(100*e),i,r].join("-"),s=.01+i/r*100,l=Math.max(1-(1-e)/n*(100-s),e),c=t.substring(0,t.indexOf("Animation")).toLowerCase(),f=c&&"-"+c+"-"||"";return o[a]||(u.insertRule("@"+f+"keyframes "+a+"{0%{opacity:"+l+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+n)%100+"%{opacity:"+e+"}100%{opacity:"+l+"}}",u.cssRules.length),o[a]=1),a}function c(t,e){var o,r,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++)if(o=n[r]+e,a[o]!==i)return o;if(a[e]!==i)return e}function f(t,e){for(var n in e)t.style[c(t,n)||n]=e[n];return t}function d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function h(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function p(t,e){return"string"==typeof t?t:t[e%t.length]}var m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function v(t){if(void 0===this)return new v(t);this.opts=d(t||{},v.defaults,m)}v.defaults={},d(v.prototype,{spin:function(e){this.stop();var n,o,i=this,a=i.opts,s=i.el=f(r(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(e&&(e.insertBefore(s,e.firstChild||null),o=h(e),n=h(s),f(s,{left:("auto"==a.left?o.x-n.x+(e.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?o.y-n.y+(e.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!t){var l,c=0,d=(a.lines-1)*(1-a.direction)/2,p=a.fps,m=p/a.speed,v=(1-a.opacity)/(m*a.trail/100),w=m/a.lines;!function t(){c++;for(var e=0;e<a.lines;e++)l=Math.max(1-(c+(a.lines-e)*w)%m*v,a.opacity),i.opacity(s,e*a.direction+d,l,a);i.timeout=i.el&&setTimeout(t,~~(1e3/p))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(e,n){var o,i=0,s=(n.lines-1)*(1-n.direction)/2;function u(t,e){return f(r(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*i+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;i<n.lines;i++)o=f(r(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:t&&l(n.opacity,n.trail,s+i*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&a(o,f(u("#000","0 0 4px #000"),{top:"2px"})),a(e,a(o,u(p(n.color,i),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var w=f(r("group"),{behavior:"url(#default#VML)"});!c(w,"transform")&&w.adj?function(){function t(t,e){return r("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}u.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(e,n){var o=n.length+n.width,i=2*o;function r(){return f(t("group",{coordsize:i+" "+i,coordorigin:-o+" "+-o}),{width:i,height:i})}var s,u=2*-(n.width+n.length)+"px",l=f(r(),{position:"absolute",top:u,left:u});function c(e,i,s){a(l,a(f(r(),{rotation:360/n.lines*e+"deg",left:~~i}),a(f(t("roundrect",{arcsize:n.corners}),{width:o,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),t("fill",{color:p(n.color,e),opacity:n.opacity}),t("stroke",{opacity:0}))))}if(n.shadow)for(s=1;s<=n.lines;s++)c(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)c(s);return a(e,l)},v.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=(i=(i=i.childNodes[e+o])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():t=c(w,"animation")})();var xt,bt,_t,Ct,Tt,kt,Mt=o(t),St=o(e),Ft="quirks"===n.hash.replace("#",""),Et=mt.csstransforms3d,Pt=Et&&!Ft,Nt=Et||"CSS1Compat"===e.compatMode,jt=vt.ok,$t=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),qt=!Pt||$t,At=navigator.msPointerEnabled,zt="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Lt=250,Ot=300,It=1400,Dt=5e3,Wt=64,Ht=500,Kt=333,Vt="$stageFrame",Bt="$navDotFrame",Rt="$navThumbFrame",Xt="auto",Qt=function(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],r=function(r,a){return i[a]=3*t[a],o[a]=3*(e[a]-t[a])-i[a],n[a]=1-i[a]-o[a],r*(i[a]+r*(o[a]+r*n[a]))};return function(t){return r(function(t){for(var e,a,s=t,u=0;++u<14&&(e=r(s,0)-t,!(Math.abs(e)<.001));)s-=e/(a=s,i[0]+a*(2*o[0]+3*n[0]*a));return s}(t),1)}};o.easing[e]=function(e,o,i,r,a){return r*n([t[0],t[1]],[t[2],t[3]])(o/a)+i}}return e}([.1,0,.25,1]),Ut="50%",Yt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Ut,thumbposition:Ut,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Wt,thumbheight:Wt,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Ot,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Gt={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};function Jt(){}function Zt(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function te(t){var e={};return Pt?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function ee(t){return{"transition-duration":t+"ms"}}function ne(t,e){return isNaN(t)?e:t}function oe(t,e){return ne(+String(t).replace(e||"px",""))}function ie(t,e){return ne((/%$/.test(n=t)?oe(n,"%"):i)/100*e,oe(t));var n}function re(t){return(!isNaN(oe(t))||!isNaN(oe(t,"%")))&&t}function ae(t,e,n,o){return(t-(o||0))*(e+(n||0))}function se(t,e,n,o){var i,r,a,s=t.data();s&&(s.onEndFn=function(){i||(i=!0,clearTimeout(s.tT),n())},s.tProp=e,clearTimeout(s.tT),s.tT=setTimeout(function(){s.onEndFn()},1.5*o),(a=(r=t).data()).tEnd||(Te(r[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[mt.prefixed("transition")],function(t){a.tProp&&t.propertyName.match(a.tProp)&&a.onEndFn()}),a.tEnd=!0))}function ue(t,e){if(t.length){var n=t.data();Pt?(t.css(ee(0)),n.onEndFn=Jt,clearTimeout(n.tT)):t.stop();var o=le(e,function(){return e=t,Pt?+((n=e.css("transform")).match(/ma/)&&n.match(/-?\d+(?!d)/g)[n.match(/3d/)?12:4]):+e.css("left").replace("px","");var e,n});return t.css(te(o)),o}}function le(){for(var t,e=0,n=arguments.length;e<n&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function ce(t,e){return Math.round(t+(e-t)/1.5)}function fe(){return fe.p=fe.p||("https:"===n.protocol?"https://":"http://"),fe.p}function de(t,n){if("string"!=typeof t)return t;var o,i,r,a;if(o=t,(i=e.createElement("a")).href=o,(t=i).host.match(/youtube\.com/)&&t.search){if(r=t.search.split("v=")[1]){var s=r.indexOf("&");-1!==s&&(r=r.substring(0,s)),a="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(r=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),a="youtube"):t.host.match(/vimeo\.com/)&&(a="vimeo",r=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return r&&a||!n||(r=t.href,a="custom"),!!r&&{id:r,type:a,s:t.search.replace(/^\?/,""),p:fe()}}function he(t){var e=[];function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,r=oe(n.width||t.attr("width")),a=oe(n.height||t.attr("height"));o.extend(n,{width:r,height:a,thumbratio:Ce(n.thumbratio||oe(n.thumbwidth||e&&e.attr("width")||i||r)/oe(n.thumbheight||e&&e.attr("height")||i||a))})}return t.children().each(function(){var t,i,r,a,s,u,l,c,f,d=o(this),h=_e(o.extend(d.data(),{id:d.attr("id")}));if(d.is("a, img"))i=h,r=!0,a=(t=d).children("img").eq(0),s=t.attr("href"),u=t.attr("src"),l=a.attr("src"),c=i.video,(f=!!r&&de(s,!0===c))?s=!1:f=c,n(t,a,o.extend(i,{video:f,img:i.img||s||u||l,thumb:i.thumb||l||u||s}));else{if(d.is(":empty"))return;n(d,null,o.extend(h,{html:this,_html:d.html()}))}e.push(h)}),e}function pe(t,e,n,o){return pe.i||(pe.i=1,pe.ii=[!0]),o=o||pe.i,void 0===pe.ii[o]&&(pe.ii[o]=!0),t()?e():pe.ii[o]&&setTimeout(function(){pe.ii[o]&&pe(t,e,n,o)},n||100),pe.i++}function me(t,e,n,o){var i,r=t.data(),a=r.measures;if(a&&(!r.l||r.l.W!==a.width||r.l.H!==a.height||r.l.r!==a.ratio||r.l.w!==e.w||r.l.h!==e.h||r.l.m!==n||r.l.p!==o)){var s=a.width,u=a.height,l=e.w/e.h,c=a.ratio>=l,f="scaledown"===n,d="contain"===n,h="cover"===n,p={x:re((i=((i=o)+"").split(/\s+/))[0])||Ut,y:re(i[1])||Ut};c&&(f||d)||!c&&h?u=(s=Zt(e.w,0,f?s:1/0))/a.ratio:(c&&h||!c&&(f||d))&&(s=(u=Zt(e.h,0,f?u:1/0))*a.ratio),t.css({width:s,height:u,left:ie(p.x,e.w-s),top:ie(p.y,e.h-u)}),r.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function ve(t,e,n){return e!==n&&(t<=e?"left":t>=n?"right":"left right")}function we(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,r=0,a=e.length;r<a;r++){if(e[r].id===t){i=r;break}}return i}function ge(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function ye(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function xe(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function be(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function _e(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function Ce(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}}function Te(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function ke(t){return{tabindex:-1*t+"",disabled:t}}function Me(t,e){Te(t,"keyup",function(n){t.getAttribute("disabled")||13==n.keyCode&&e.call(t,n)})}function Se(t,e){Te(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function Fe(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function Ee(t){return t?">":"<"}function Pe(t,e){var n=t.data(),i=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||Jt)()};void 0!==e.overPos&&e.overPos!==e.pos&&(i=e.overPos,r=function(){Pe(t,o.extend({},e,{overPos:e.pos,time:Math.max(Ot,e.time/2)}))});var a=o.extend(te(i),e.width&&{width:e.width});n.sliding=!0,Pt?(t.css(o.extend(ee(e.time),a)),e.time>10?se(t,"transform",r,e.time):r()):t.stop().animate(a,e.time,Qt,r)}function Ne(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function je(t,n){var i,r,a,s,u,l,c,f,d,h=t[0],p={};function m(t){if(a=o(t.target),p.checked=l=c=d=!1,i||p.flow||t.touches&&t.touches.length>1||t.which>1||_t&&_t.type!==t.type&&Tt||(l=n.select&&a.is(n.select,h)))return l;u="touchstart"===t.type,c=a.is("a, a *",h),s=p.control,f=p.noMove||p.noSwipe||s?16:p.snap?0:4,Ne(t),r=_t=t,Ct=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||Jt).call(h,t,{control:s,$target:a}),i=p.flow=!0,u&&!p.go||Fe(t)}function v(t){if(t.touches&&t.touches.length>1||At&&!t.isPrimary||Ct!==t.type||!i)return i&&w(),void(n.onTouchEnd||Jt)();Ne(t);var e=Math.abs(t._x-r._x),o=Math.abs(t._y-r._y),a=e-o,s=(p.go||p.x||a>=0)&&!p.noSwipe,l=a<0;u&&!p.checked?(i=s)&&Fe(t):(Fe(t),(n.onMove||Jt).call(h,t,{touch:u})),!d&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>f&&(d=!0),p.checked=p.checked||s||l}function w(t){(n.onTouchEnd||Jt)();var e=i;p.control=i=!1,e&&(p.flow=!1),!e||c&&!p.checked||(t&&Fe(t),Tt=!0,clearTimeout(kt),kt=setTimeout(function(){Tt=!1},1e3),(n.onEnd||Jt).call(h,{moved:d,$target:a,control:s,touch:u,startEvent:r,aborted:!t||"MSPointerCancel"===t.type}))}function g(){p.flow&&setTimeout(function(){p.flow=!1},Lt)}return At?(Te(h,"MSPointerDown",m),Te(e,"MSPointerMove",v),Te(e,"MSPointerCancel",w),Te(e,"MSPointerUp",w)):(Te(h,"touchstart",m),Te(h,"touchmove",v),Te(h,"touchend",w),Te(e,"touchstart",function(){p.flow||setTimeout(function(){p.flow=!0},10)}),Te(e,"touchend",g),Te(e,"touchcancel",g),Mt.on("scroll",g),t.on("mousedown",m),St.on("mousemove",v).on("mouseup",w)),t.on("click","a",function(t){p.checked&&Fe(t)}),p}function $e(t,e){var n,i,r,a,s,u,l,c,f,d,h,p,m,v,w=t[0],g=t.data(),y={};function x(o,s){v=!0,n=i=o._x,l=o._now,u=[[l,n]],r=a=y.noMove||s?0:ue(t,(e.getPos||Jt)()),(e.onStart||Jt).call(w,o)}return y=o.extend(je(e.$wrap,o.extend({},e,{onStart:function(t,e){f=y.min,d=y.max,h=y.snap,p=t.altKey,v=m=!1,e.control||g.sliding||x(t)},onMove:function(o,l){y.noSwipe||(v||x(o),i=o._x,u.push([o._now,i]),s=ve(a=r-(n-i),f,d),a<=f?a=ce(a,f):a>=d&&(a=ce(a,d)),y.noMove||(t.css(te(a)),m||(m=!0,l.touch||At||t.addClass(tt)),(e.onMove||Jt).call(w,o,{pos:a,edge:s})))},onEnd:function(n){if(!y.noSwipe||!n.moved){v||x(n.startEvent,!0),n.touch||At||t.removeClass(tt);for(var s,l,m,g,b,_,C,T,k,M=(c=o.now())-Lt,S=null,F=Ot,E=e.friction,P=u.length-1;P>=0;P--){if(s=u[P][0],l=Math.abs(s-M),null===S||l<m)S=s,g=u[P][1];else if(S===M||l>m)break;m=l}C=Zt(a,f,d);var N=g-i,j=N>=0,$=c-S,q=$>Lt,A=!q&&a!==r&&C===a;h&&(C=Zt(Math[A?j?"floor":"ceil":"round"](a/h)*h,f,d),f=d=C),A&&(h||C===a)&&(k=-N/$,F*=Zt(Math.abs(k),e.timeLow,e.timeHigh),b=Math.round(a+k*F/E),h||(C=b),(!j&&b>d||j&&b<f)&&(T=b-(_=j?f:d),h||(C=_),T=Zt(C+.03*T,_-50,_+50),F=Math.abs((a-T)/(k/E)))),F*=p?10:1,(e.onEnd||Jt).call(w,o.extend(n,{moved:n.moved||q&&h,pos:a,newPos:C,overPos:T,time:F}))}}})),y)}function qe(t,e){var n,i,r,a={prevent:{}};return Te(t[0],zt,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,u=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(u)&&!Math.abs(s),c=Ee(u<0),f=i===c,d=o.now(),h=d-r<Lt;i=c,r=d,l&&a.ok&&(!a.prevent[c]||n)&&(Fe(t,!0),n&&f&&h||(e.shift&&(n=!0,clearTimeout(a.t),a.t=setTimeout(function(){n=!1},It)),(e.onEnd||Jt)(t,e.shift?c:u)))}),a}function Ae(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}pe.stop=function(t){pe.ii[t]=!1},jQuery.Fotorama=function(t,i){xt=o("html"),bt=o("body");var O,tt,st,pt,mt,wt,gt,yt,_t,Ct,Tt,kt,Ft,Et,$t,zt,It,Qt,Ut,Yt,ne,se,ce,fe,de,Ne,ze,Le,Oe,Ie,De,We,He,Ke,Ve,Be,Re,Xe,Qe,Ue=this,Ye=o.now(),Ge=r+Ye,Je=t[0],Ze=t.data(),tn=o("<style></style>"),en=o(ge(R)),nn=o(ge(s)),on=o(ge(x)).appendTo(nn),rn=(on[0],o(ge(C)).appendTo(on)),an=o(),sn=o(ge(M+" "+F+ht)),un=o(ge(M+" "+E+ht)),ln=sn.add(un).appendTo(on),cn=o(ge(N)),fn=o(ge(P)).appendTo(cn),dn=o(ge(j)).appendTo(fn),hn=o(),pn=o(),mn=(rn.data(),dn.data(),o(ge(rt)).appendTo(dn)),vn=o(ge(Q+ht)),wn=vn[0],gn=o(ge(ut)),yn=o(ge(lt)).appendTo(on)[0],xn=(o(ge(dt)),!1),bn={},_n={},Cn={},Tn={},kn={},Mn={},Sn={},Fn=0,En=[];function Pn(t){return ze[t]||Ue.fullScreen}function Nn(e){var n,s,u,l,c,f;e!==Nn.f&&(e?(t.html("").addClass(r+" "+Ge).append(nn).before(tn).before(en),s=Ue,o.Fotorama.instances.push(s),Ae()):(nn.detach(),tn.detach(),en.detach(),t.html(Ze.urtext).removeClass(Ge),n=Ue,o.Fotorama.instances.splice(n.index,1),Ae()),u="keydown."+r,c="keydown."+(l=r+Ye),f="resize."+l+" orientationchange."+l,e?(St.on(c,function(t){var e,n;pt&&27===t.keyCode?(e=!0,po(pt,!0,!0)):(Ue.fullScreen||i.keyboard&&!Ue.index)&&(27===t.keyCode?(e=!0,Ue.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&Pn("space")||37===t.keyCode&&Pn("left")||38===t.keyCode&&Pn("up")?n="<":32===t.keyCode&&Pn("space")||39===t.keyCode&&Pn("right")||40===t.keyCode&&Pn("down")?n=">":36===t.keyCode&&Pn("home")?n="<<":35===t.keyCode&&Pn("end")&&(n=">>")),(e||n)&&Fe(t),n&&Ue.show({index:n,slow:t.altKey,user:!0})}),Ue.index||St.off(u).on(u,"textarea, input, select",function(t){!bt.hasClass(a)&&t.stopPropagation()}),Mt.on(f,Ue.resize)):(St.off(c),Mt.off(f)),Nn.f=e)}function jn(){var t=tt<2&&!i.enableifsingleframe||pt;_n.noMove=t||Yt,_n.noSwipe=t||!i.swipe,!fe&&rn.toggleClass(T,!i.click&&!_n.noMove&&!_n.noSwipe),At&&nn.toggleClass(m,!_n.noSwipe)}function $n(t){!0===t&&(t=""),i.autoplay=Math.max(+t||Dt,1.5*ce)}function qn(t){return t<0?(tt+t%tt)%tt:t>=tt?t%tt:t}function An(t){return Zt(t,0,tt-1)}function zn(t){return Et?qn(t):An(t)}function Ln(t){return!!(t>0||Et)&&t-1}function On(t){return!!(t<tt-1||Et)&&t+1}function In(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var r=O[qn(o)];if(r){var a="$"+e+"Frame",s=r[a];n.call(this,t,o,r,s,a,s&&s.data())}}})}function Dn(t,e,n,o){(!Le||"*"===Le&&o===Ft)&&(t=re(i.width)||re(t)||Ht,e=re(i.height)||re(e)||Kt,Ue.resize({width:t,ratio:i.ratio||n||t/e},0,o!==Ft&&"*"))}function Wn(t,e,n,r,a,s){In(t,e,function(t,u,l,c,f,d){if(c){var h=Ue.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||s||h){var p=new Image,m=o(p),v=m.data();d[h?"$full":"$img"]=m;var w="stage"===e?h?"full":"img":"thumb",g=l[w],y=h?null:l["stage"===e?"thumb":"img"];"navThumb"===e&&(c=d.$wrap),g?(o.Fotorama.cache[g]?function t(){"error"===o.Fotorama.cache[g]?b():"loaded"===o.Fotorama.cache[g]?setTimeout(_,0):setTimeout(t,100)}():(o.Fotorama.cache[g]="*",m.on("load",_).on("error",b)),d.state="",p.src=g):b()}}function x(t){var e=qn(u);ao(t,{index:e,src:g,frame:O[e]})}function b(){m.remove(),o.Fotorama.cache[g]="error",l.html&&"stage"===e||!y||y===g?(!g||l.html||h?"stage"===e&&(c.trigger("f:load").removeClass(Y+" "+U).addClass(G),x("load"),Dn()):(c.trigger("f:error").removeClass(Y).addClass(U),x("error")),d.state="error",!(tt>1&&O[u]===l)||l.html||l.deleted||l.video||h||(l.deleted=!0,Ue.splice(u,1))):(l[w]=g=y,Wn([u],e,n,r,a,!0))}function _(){var t=10;pe(function(){return!Ve||!t--&&!qt},function(){o.Fotorama.measures[g]=v.measures=o.Fotorama.measures[g]||{width:p.width,height:p.height,ratio:p.width/p.height},Dn(v.measures.width,v.measures.height,v.measures.ratio,u),m.off("load error").addClass(et+(h?" "+nt:"")).prependTo(c),me(m,(o.isFunction(n)?n():n)||bn,r||l.fit||i.fit,a||l.position||i.position),o.Fotorama.cache[g]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Y+" "+U).addClass(G+" "+(h?J:Z)),"stage"===e?x("load"):(l.thumbratio===Xt||!l.thumbratio&&i.thumbratio===Xt)&&(l.thumbratio=v.measures.ratio,_o())},0)})}})}function Hn(){var t=mt[Vt];t&&!t.data().state&&t.on("f:load f:error",function(){t.off("f:load f:error")})}function Kn(t){Me(t,yo),Se(t,function(){setTimeout(function(){be(fn)},0),eo({time:ce,guessIndex:o(this).data().eq,minMax:Tn})})}function Vn(t,e){In(t,e,function(t,n,i,r,a,s){if(!r){r=i[a]=nn[a].clone(),(s=r.data()).data=i;var u=r[0];"stage"===e?(i.html&&o('<div class="'+at+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),i.caption&&o(ge(ct,ge(ft,i.caption))).appendTo(r),i.video&&r.addClass(_).append(gn.clone()),Se(u,function(){setTimeout(function(){be(on)},0),wo({index:s.eq,user:!0})}),an=an.add(r)):"navDot"===e?(Kn(u),hn=hn.add(r)):"navThumb"===e&&(Kn(u),s.$wrap=r.children(":first"),pn=pn.add(r),i.video&&s.$wrap.append(gn.clone()))}})}function Bn(t,e,n,o){return t&&t.length&&me(t,e,n,o)}function Rn(t){In(t,"stage",function(t,n,r,a,s,u){if(a){var l,c=qn(n),f=r.fit||i.fit,d=r.position||i.position;u.eq=c,Sn[Vt][c]=a.css(o.extend({left:Yt?0:ae(n,bn.w,i.margin,gt)},Yt&&ee(0))),l=a[0],o.contains(e.documentElement,l)||(a.appendTo(rn),po(r.$video)),Bn(u.$img,bn,f,d),Bn(u.$full,bn,f,d)}})}function Xn(t,e){if("thumbs"===$t&&!isNaN(t)){var n=-t,r=-t+bn.nw;pn.each(function(){var t=o(this).data(),a=t.eq,s=function(){return{h:se,w:t.w}},u=s(),l=O[a]||{},c=l.thumbfit||i.thumbfit,f=l.thumbposition||i.thumbposition;u.w=t.w,t.l+t.w<n||t.l>r||Bn(t.$img,u,c,f)||e&&Wn([a],"navThumb",s,c,f)})}}function Qn(t,e,n){if(!Qn[n]){var r="nav"===n&&zt,a=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,r=O.length;i<r;i++)if(n.data===O[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(r){var t=o(this),e=t.data(),n=Math.round(se*e.data.thumbratio)||ne;e.l=a,e.w=n,t.css({width:n}),a+=n+i.thumbmargin}})),Qn[n]=!0}}function Un(t){return t-Fn>bn.w/3}function Yn(t){return!(Et||xn+t&&xn-tt+t||pt)}function Gn(){var t=Yn(0),e=Yn(1);sn.toggleClass(S,t).attr(ke(t)),un.toggleClass(S,e).attr(ke(e))}function Jn(){Cn.ok&&(Cn.prevent={"<":Yn(0),">":Yn(1)})}function Zn(t){var e,n,o=t.data();return zt?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*i.thumbmargin,max:-e+bn.w-n-10*i.thumbmargin}}function to(t){var e=mt[Re].data();Pe(mn,{time:1.2*t,pos:e.l,width:e.w-2*i.thumbborderwidth})}function eo(t){var e=O[t.guessIndex][Re];if(e){var n=Tn.min!==Tn.max,o=t.minMax||n&&Zn(mt[Re]),i=n&&(t.keep&&eo.l?eo.l:Zt((t.coo||bn.nw/2)-Zn(e).c,o.min,o.max)),r=n&&Zt(i,Tn.min,Tn.max),a=1.1*t.time;Pe(dn,{time:a,pos:r||0,onEnd:function(){Xn(r,!0)}}),ho(fn,ve(r,Tn.min,Tn.max)),eo.l=i}}function no(t){for(var e=Mn[t];e.length;)e.shift().removeClass(V)}function oo(t){var e=Sn[t];o.each(wt,function(t,n){delete e[qn(n)]}),o.each(e,function(t,n){delete e[t],n.detach()})}function io(t){gt=yt=xn;var e=mt[Vt];e&&(no(Vt),Mn[Vt].push(e.addClass(V)),t||Ue.show.onEnd(!0),ue(rn,0),oo(Vt),Rn(wt),_n.min=Et?-1/0:-ae(tt-1,bn.w,i.margin,gt),_n.max=Et?1/0:-ae(0,bn.w,i.margin,gt),_n.snap=bn.w+i.margin,Tn.min=Math.min(0,bn.nw-dn.width()),Tn.max=0,dn.toggleClass(T,!(Tn.noMove=Tn.min===Tn.max)))}function ro(t,e){t&&o.each(e,function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:Ce(t.ratio)})})}function ao(e,n){t.trigger(r+":"+e,[Ue,n])}function so(){clearTimeout(uo.t),Ve=1,i.stopautoplayontouch?Ue.stopAutoplay():We=!0}function uo(){Ve&&(i.stopautoplayontouch||(lo(),co()),uo.t=setTimeout(function(){Ve=0},Ot+Lt))}function lo(){We=!(!pt&&!He)}function co(){if(clearTimeout(co.t),pe.stop(co.w),i.autoplay&&!We){Ue.autoplay||(Ue.autoplay=!0,ao("startautoplay"));var t=xn,e=mt[Vt].data();co.w=pe(function(){return e.state||t!==xn},function(){co.t=setTimeout(function(){if(!We&&t===xn){var e=kt,n=O[e][Vt].data();co.w=pe(function(){return n.state||e!==kt},function(){We||e!==kt||Ue.show(Et?Ee(!Ne):kt)})}},i.autoplay)})}else Ue.autoplay&&(Ue.autoplay=!1,ao("stopautoplay"))}function fo(){Ue.fullScreen&&(Ue.fullScreen=!1,jt&&vt.cancel(Je),bt.removeClass(a),xt.removeClass(a),t.removeClass(X).insertAfter(en),bn=o.extend({},Ke),po(pt,!0,!0),go("x",!1),Ue.resize(),Wn(wt,"stage"),be(Mt,Ie,Oe),ao("fullscreenexit"))}function ho(t,e){de&&(t.removeClass(H+" "+K),e&&!pt&&t.addClass(e.replace(/^|\s/g," "+W+"--")))}function po(t,e,n){e&&(nn.removeClass(c),pt=!1,jn()),t&&t!==pt&&(t.remove(),ao("unloadvideo")),n&&(lo(),co())}function mo(t){nn.toggleClass(h,t)}function vo(t){if(!_n.flow){var e=t?t.pageX:vo.x,n=e&&!Yn(Un(e))&&i.click;vo.p!==n&&on.toggleClass(k,n)&&(vo.p=n,vo.x=e)}}function wo(t){clearTimeout(wo.t),i.clicktransition&&i.clicktransition!==i.transition?setTimeout(function(){var e=i.transition;Ue.setOptions({transition:i.clicktransition}),fe=e,wo.t=setTimeout(function(){Ue.show(t)},10)},0):Ue.show(t)}function go(t,e){_n[t]=Tn[t]=e}function yo(t){wo({index:o(this).data().eq,slow:t.altKey,user:!0,coo:t._x-fn.offset().left})}function xo(t){wo({index:ln.index(this)?">":"<",slow:t.altKey,user:!0})}function bo(t){Se(t,function(){setTimeout(function(){be(on)},0),mo(!1)})}function _o(){if(O=Ue.data=O||xe(i.data)||he(t),tt=Ue.size=O.length,!Co.ok&&i.shuffle&&ye(O),xn=An(xn),tt&&Nn(!0),function(){Ue.options=i=_e(i),Yt="crossfade"===i.transition||"dissolve"===i.transition,Et=i.loop&&(tt>2||Yt&&(!fe||"slide"!==fe)),ce=+i.transitionduration||Ot,Ne="rtl"===i.direction,ze=o.extend({},i.keyboard&&Gt,i.keyboard);var t,e,n,r={add:[],remove:[]};function a(t,e){r[t?"add":"remove"].push(e)}tt>1||i.enableifsingleframe?($t=i.nav,It="top"===i.navposition,r.remove.push(B),ln.toggle(!!i.arrows)):($t=!1,ln.hide()),Gn(),Jn(),i.autoplay&&$n(i.autoplay),ne=oe(i.thumbwidth)||Wt,se=oe(i.thumbheight)||Wt,Cn.ok=kn.ok=i.trackpad&&!qt,jn(),ro(i,[bn]),(zt="thumbs"===$t)?(Vn(tt,"navThumb"),st=pn,Re=Rt,t=tn,e=o.Fotorama.jst.style({w:ne,h:se,b:i.thumbborderwidth,m:i.thumbmargin,s:Ye,q:!Nt}),(n=t[0]).styleSheet?n.styleSheet.cssText=e:t.html(e),fn.addClass(q).removeClass($)):"dots"===$t?(Vn(tt,"navDot"),st=hn,Re=Bt,fn.addClass($).removeClass(q)):($t=!1,fn.removeClass(q+" "+$)),$t&&(It?cn.insertBefore(on):cn.insertAfter(on),Qn.nav=!1,Qn(st,dn,"nav")),(Qt=i.allowfullscreen)?(vn.prependTo(on),Ut=jt&&"native"===Qt):(vn.detach(),Ut=!1),a(Yt,f),a(!Yt,d),a(!i.captions,g),a(Ne,v),a("always"!==i.arrows,y),a(!(de=i.shadows&&!qt),p),nn.addClass(r.add.join(" ")).removeClass(r.remove.join(" ")),o.extend({},i)}(),!_o.i){_o.i=!0;var e=i.startindex;(e||i.hash&&n.hash)&&(Ft=we(e||n.hash.replace(/^#/,""),O,0===Ue.index||e,e)),xn=gt=yt=_t=Ft=zn(Ft)||0}if(tt){if(function t(){if(!t.f===Ne)return t.f=Ne,xn=tt-1-xn,Ue.reverse(),!0}())return;pt&&po(pt,!0),wt=[],oo(Vt),_o.ok=!0,Ue.show({index:xn,time:0}),Ue.resize()}else Ue.destroy()}function Co(){Co.ok||(Co.ok=!0,ao("ready"))}nn[Vt]=o(ge(b)),nn[Rt]=o(ge(A+" "+L+ht,ge(it))),nn[Bt]=o(ge(A+" "+z+ht,ge(ot))),Mn[Vt]=[],Mn[Rt]=[],Mn[Bt]=[],Sn[Vt]={},nn.addClass(Pt?l:u).toggleClass(h,!i.controlsonstart),Ze.fotorama=this,Ue.startAutoplay=function(t){return Ue.autoplay?this:(We=He=!1,$n(t||i.autoplay),co(),this)},Ue.stopAutoplay=function(){return Ue.autoplay&&(We=He=!0,co()),this},Ue.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?yt+1:"<"===e?yt-1:"<<"===e?0:">>"===e?tt-1:e,e=void 0===(e=isNaN(e)?we(e,O,!0):e)?xn||0:e,Ue.activeIndex=xn=zn(e),Ct=Ln(xn),Tt=On(xn),kt=qn(xn+(Ne?-1:1)),wt=[xn,Ct,Tt],yt=Et?e:xn;var r=Math.abs(_t-yt),a=le(t.time,function(){return Math.min(ce*(1+(r-1)/12),2*ce)}),s=t.overPos;t.slow&&(a*=10);var u=mt;Ue.activeFrame=mt=O[xn];var l=u===mt&&!t.user;po(pt,mt.i!==O[qn(gt)].i),Vn(wt,"stage"),Rn(qt?[yt]:[yt,Ln(yt),On(yt)]),go("go",!0),l||ao("show",{user:t.user,time:a}),We=!0;var c,f=Ue.show.onEnd=function(e){if(!f.ok){if(f.ok=!0,e||io(!0),l||ao("showend",{user:t.user}),!e&&fe&&fe!==i.transition)return Ue.setOptions({transition:fe}),void(fe=!1);Hn(),Wn(wt,"stage"),go("go",!1),Jn(),vo(),lo(),co()}};Yt?function t(e,n,i,r,a,s){var u=void 0!==s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){e=e||o(e),n=n||o(n);var l=e[0],c=n[0],f="crossfade"===r.method,d=function(){if(!d.done){d.done=!0;var e=(u||a.shift())&&a.shift();e&&t.apply(this,e),(r.onEnd||Jt)(!!e)}},h=r.time/(s||1);i.removeClass(D+" "+I),e.stop().addClass(D),n.stop().addClass(I),f&&c&&e.fadeTo(0,0),e.fadeTo(f?h:0,1,f&&d),n.fadeTo(h,0,d),l&&f||c||d()}}(mt[Vt],xn!==_t?O[_t][Vt]:null,an,{time:a,method:i.transition,onEnd:f},En):Pe(rn,{pos:-ae(yt,bn.w,i.margin,gt),overPos:s,time:a,onEnd:f});if(Gn(),$t){no(Re),Mn[Re].push(mt[Re].addClass(V));var d=An(xn+Zt(yt-_t,-1,1));eo({time:a,coo:d!==xn&&t.coo,guessIndex:void 0!==t.coo?d:xn,keep:l}),zt&&to(a)}return De=void 0!==_t&&_t!==xn,_t=xn,i.hash&&De&&!Ue.eq&&(c=mt.id||xn+1,n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+c)),this},Ue.requestFullScreen=function(){return Qt&&!Ue.fullScreen&&(Oe=Mt.scrollTop(),Ie=Mt.scrollLeft(),be(Mt),go("x",!0),Ke=o.extend({},bn),t.addClass(X).appendTo(bt.addClass(a)),xt.addClass(a),po(pt,!0,!0),Ue.fullScreen=!0,Ut&&vt.request(Je),Ue.resize(),Wn(wt,"stage"),Hn(),ao("fullscreenenter")),this},Ue.cancelFullScreen=function(){return Ut&&vt.is()?vt.cancel(e):fo(),this},Ue.toggleFullScreen=function(){return Ue[(Ue.fullScreen?"cancel":"request")+"FullScreen"]()},Te(e,vt.event,function(){!O||vt.is()||pt||fo()}),Ue.resize=function(t){if(!O)return this;var e=arguments[1]||0,n=arguments[2];ro(Ue.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:_e(t),[bn,n||Ue.fullScreen||i]);var o=bn.width,r=bn.height,a=bn.ratio,s=Mt.height()-($t?fn.height():0);return re(o)&&(nn.addClass(w).css({width:o,minWidth:bn.minwidth||0,maxWidth:bn.maxwidth||99999}),o=bn.W=bn.w=nn.width(),bn.nw=$t&&ie(i.navwidth,o)||o,i.glimpse&&(bn.w-=Math.round(2*(ie(i.glimpse,o)||0))),rn.css({width:bn.w,marginLeft:(bn.W-bn.w)/2}),(r=(r=ie(r,s))||a&&o/a)&&(o=Math.round(o),r=bn.h=Math.round(Zt(r,ie(bn.minheight,s),ie(bn.maxheight,s))),on.stop().animate({width:o,height:r},e,function(){nn.removeClass(w)}),io(),$t&&(fn.stop().animate({width:bn.nw},e),eo({guessIndex:xn,time:e,keep:!0}),zt&&Qn.nav&&to(e)),Le=n||!0,Co())),Fn=on.offset().left,this},Ue.setOptions=function(t){return o.extend(i,t),_o(),this},Ue.shuffle=function(){return O&&ye(O)&&_o(),this},Ue.destroy=function(){return Ue.cancelFullScreen(),Ue.stopAutoplay(),O=Ue.data=null,Nn(),wt=[],oo(Vt),_o.ok=!1,this},Ue.playVideo=function(){var t=mt,e=t.video,n=xn;return"object"==typeof e&&t.videoReady&&(Ut&&Ue.fullScreen&&Ue.cancelFullScreen(),pe(function(){return!vt.is()||n!==xn},function(){n===xn&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Vt]),nn.addClass(c),pt=t.$video,jn(),ln.blur(),vn.blur(),ao("loadvideo"))})),this},Ue.stopVideo=function(){return po(pt,!0,!0),this},on.on("mousemove",vo),_n=$e(rn,{onStart:so,onMove:function(t,e){ho(on,e.edge)},onTouchEnd:uo,onEnd:function(t){ho(on);var e,n,r,a,s,u,l,c=(At&&!Be||t.touch)&&i.arrows&&"always"!==i.arrows;if(t.moved||c&&t.pos!==t.newPos&&!t.control){var f=(a=t.newPos,s=bn.w,u=i.margin,l=gt,-Math.round(a/(s+(u||0))-(l||0)));Ue.show({index:f,time:Yt?ce:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||(e=t.startEvent,n=c,r=e.target,o(r).hasClass(ut)?Ue.playVideo():r===wn?Ue.toggleFullScreen():pt?r===yn&&po(pt,!0,!0):n?mo():i.click&&wo({index:e.shiftKey||Ee(Un(e._x)),slow:e.altKey,user:!0}))},timeLow:1,timeHigh:1,friction:2,select:"."+B+", ."+B+" *",$wrap:on}),Tn=$e(dn,{onStart:so,onMove:function(t,e){ho(fn,e.edge)},onTouchEnd:uo,onEnd:function(t){function e(){eo.l=t.newPos,lo(),co(),Xn(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(We=!0,Pe(dn,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),Xn(t.newPos),de&&ho(fn,ve(t.newPos,Tn.min,Tn.max))):e();else{var n=t.$target.closest("."+A,dn)[0];n&&yo.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:fn}),Cn=qe(on,{shift:!0,onEnd:function(t,e){so(),uo(),Ue.show({index:e,slow:t.altKey})}}),kn=qe(fn,{onEnd:function(t,e){so(),uo();var n=ue(dn)+.25*e;dn.css(te(Zt(n,Tn.min,Tn.max))),de&&ho(fn,ve(n,Tn.min,Tn.max)),kn.prevent={"<":n>=Tn.max,">":n<=Tn.min},clearTimeout(kn.t),kn.t=setTimeout(function(){eo.l=n,Xn(n,!0)},Lt),Xn(n)}}),nn.hover(function(){setTimeout(function(){Ve||mo(!(Be=!0))},0)},function(){Be&&mo(!(Be=!1))}),Xe=function(t){Fe(t),xo.call(this,t)},Qe=(Qe={onStart:function(){so(),_n.control=!0},onTouchEnd:uo})||{},ln.each(function(){var t,e=o(this),n=e.data();n.clickOn||(n.clickOn=!0,o.extend(je(e,{onStart:function(e){t=e,(Qe.onStart||Jt).call(this,e)},onMove:Qe.onMove||Jt,onTouchEnd:Qe.onTouchEnd||Jt,onEnd:function(e){e.moved||Xe.call(this,t)}}),{noMove:!0}))}),ln.each(function(){Me(this,function(t){xo.call(this,t)}),bo(this)}),Me(wn,Ue.toggleFullScreen),bo(wn),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Ue[e]=function(){return O=O||[],"load"!==e?Array.prototype[e].apply(O,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(O=xe(arguments[0])),_o(),Ue}}),_o()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),r=i.data(),a=r.fotorama;a?a.setOptions(e,!0):pe(function(){return!(0===(t=n).offsetWidth&&0===t.offsetHeight);var t},function(){r.urtext=i.html(),new o.Fotorama(i,o.extend({},Yt,t.fotoramaDefaults,e,r))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},(o=o||{}).Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){var e="",n=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=n.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>\n'},o(function(){o("."+r+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery);